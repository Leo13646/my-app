<!DOCTYPE html>
<html lang="zh">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Decision Engine Pro</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display",sans-serif;
background:
radial-gradient(circle at 20% 20%, #1c1c1c, transparent 40%),
radial-gradient(circle at 80% 80%, #181818, transparent 50%),
linear-gradient(180deg,#0b0b0b,#111);
color:white;
display:flex;
flex-direction:column;
align-items:center;
padding:90px 20px;
min-height:100vh;
}

.lang{
position:absolute;
top:30px;
right:40px;
cursor:pointer;
color:#9ca3af;
font-size:14px;
}

/* HERO */
.hero{
text-align:center;
max-width:800px;
margin-bottom:40px;
}

.hero h1{
font-size:56px;
font-weight:700;
background:linear-gradient(90deg,#fff,#cfcfcf,#6b7280);
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
}

.hero p{
margin-top:15px;
color:#9ca3af;
}

/* CARD */
.card{
background:rgba(255,255,255,.05);
backdrop-filter:blur(25px);
padding:30px;
border-radius:22px;
width:100%;
max-width:560px;
box-shadow:0 40px 100px rgba(0,0,0,.6);
}

.header{
display:flex;
align-items:center;
gap:10px;
margin-bottom:20px;
font-weight:600;
}

.icon{
width:32px;
height:32px;
background:rgba(255,255,255,.08);
border-radius:8px;
display:flex;
align-items:center;
justify-content:center;
}

.label{
font-size:12px;
color:#9ca3af;
margin-bottom:4px;
}

input{
width:100%;
padding:12px;
border-radius:14px;
border:1px solid rgba(255,255,255,.08);
background:rgba(255,255,255,.03);
color:white;
margin-bottom:12px;
}

.result{
display:flex;
justify-content:space-between;
padding-top:6px;
margin-top:6px;
border-top:1px solid rgba(255,255,255,.05);
font-size:13px;
}

.value{font-weight:600;}
.green{color:#22c55e;}
.red{color:#ef4444;}
.yellow{color:#facc15;}
.gray{color:#e5e7eb;}

button{
margin-top:15px;
width:100%;
padding:10px;
border-radius:12px;
background:#fff;
color:#000;
border:none;
cursor:pointer;
font-weight:600;
}

.sim-box{
margin-top:15px;
font-size:13px;
color:#9ca3af;
}
</style>
</head>

<body>

<div class="lang" onclick="toggleLang()">ä¸­æ–‡ / English</div>

<div class="hero">
<h1 id="title">Make calculated decisions.</h1>
<p id="subtitle">Evaluate risk before committing capital.</p>
</div>

<div class="card">

<div class="header">
<div class="icon">ðŸ§®</div>
<span id="cardTitle">Expected Value Calculator</span>
</div>

<div class="label" id="pLabel">Probability (0~1)</div>
<input type="number" id="p" step="0.01">

<div class="label" id="rLabel">Reward</div>
<input type="number" id="r">

<div class="label" id="cLabel">Cost</div>
<input type="number" id="c">

<div class="result"><span id="evText">Expected Value</span><span class="value gray" id="ev">-</span></div>
<div class="result"><span>ROI</span><span class="value gray" id="roi">-</span></div>
<div class="result"><span id="beText">Break-even</span><span class="value gray" id="be">-</span></div>
<div class="result"><span id="kellyText">Kelly %</span><span class="value gray" id="kelly">-</span></div>
<div class="result"><span id="worthText">Worth</span><span class="value gray" id="worth">-</span></div>

<button onclick="simulate()" id="simBtn">Simulate 100 Runs</button>

<div class="sim-box" id="simResult"></div>

</div>

<script>
let zh=false;

function toggleLang(){
zh=!zh;

document.getElementById("title").innerText = zh?"åšå‡ºç²¾æº–æ±ºç­–":"Make calculated decisions.";
document.getElementById("subtitle").innerText = zh?"åœ¨æŠ•å…¥è³‡é‡‘å‰å…ˆè©•ä¼°é¢¨éšª":"Evaluate risk before committing capital.";
document.getElementById("cardTitle").innerText = zh?"æœŸæœ›å€¼è¨ˆç®—å™¨":"Expected Value Calculator";
document.getElementById("pLabel").innerText = zh?"æ©ŸçŽ‡ (0~1)":"Probability (0~1)";
document.getElementById("rLabel").innerText = zh?"çŽå‹µ":"Reward";
document.getElementById("cLabel").innerText = zh?"æˆæœ¬":"Cost";
document.getElementById("evText").innerText = zh?"æœŸæœ›å€¼":"Expected Value";
document.getElementById("beText").innerText = zh?"æç›Šå¹³è¡¡":"Break-even";
document.getElementById("kellyText").innerText = zh?"Kelly æ¯”ä¾‹":"Kelly %";
document.getElementById("worthText").innerText = zh?"åƒ¹å€¼åˆ¤æ–·":"Worth";
document.getElementById("simBtn").innerText = zh?"æ¨¡æ“¬ 100 æ¬¡":"Simulate 100 Runs";
}

document.querySelectorAll("input").forEach(i=>i.addEventListener("input",calculate));

function calculate(){
let p=parseFloat(document.getElementById("p").value);
let r=parseFloat(document.getElementById("r").value);
let c=parseFloat(document.getElementById("c").value);

if(isNaN(p)||isNaN(r)||isNaN(c)){
reset();
return;
}

let ev=p*r-c;
let roi=(ev/c)*100;
let be=c/r;
let b=(r-c)/c;
let k=(p*(b+1)-1)/b*100;

setValue("ev",ev);
setValue("roi",roi.toFixed(2)+"%");
setValue("be",be.toFixed(2));
setValue("kelly",k.toFixed(2)+"%");

let worth="Neutral";
let color="gray";

if(ev>0&&roi>20){worth="Strong Positive EV";color="green";}
else if(ev>0){worth="Slight Edge";color="yellow";}
else if(ev<0){worth="Negative EV";color="red";}

setText("worth",worth,color);
}

function simulate(){
let p=parseFloat(document.getElementById("p").value);
let r=parseFloat(document.getElementById("r").value);
let c=parseFloat(document.getElementById("c").value);

if(isNaN(p)||isNaN(r)||isNaN(c)) return;

let capital=0;
let wins=0;

for(let i=0;i<100;i++){
if(Math.random()<p){
capital+=r-c;
wins++;
}else{
capital-=c;
}
}

document.getElementById("simResult").innerText =
(zh?"æ¨¡æ“¬çµæžœï¼š\nç¸½ç›ˆè™§: ":"Simulation:\nTotal Profit: ")
+capital+"\n"+
(zh?"å‹å ´: ":"Wins: ")+wins;
}

function setValue(id,val){
let el=document.getElementById(id);
el.innerText=val;
if(typeof val==="number"){
if(val>0) el.className="value green";
else if(val<0) el.className="value red";
else el.className="value gray";
}
}

function setText(id,text,color){
let el=document.getElementById(id);
el.innerText=text;
el.className="value "+color;
}

function reset(){
["ev","roi","be","kelly","worth"].forEach(id=>{
document.getElementById(id).innerText="-";
document.getElementById(id).className="value gray";
});
}
</script>

</body>
</html>
