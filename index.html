<!DOCTYPE html>
<html lang="zh">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Decision Engine Pro</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display","Inter",sans-serif;
background:
radial-gradient(circle at 20% 20%, #1c1c1c, transparent 40%),
radial-gradient(circle at 80% 80%, #181818, transparent 50%),
linear-gradient(180deg,#0b0b0b 0%, #111111 100%);
color:white;
display:flex;
flex-direction:column;
align-items:center;
padding:100px 20px;
min-height:100vh;
}

/* HERO */
.hero{
text-align:center;
max-width:800px;
margin-bottom:60px;
}

.hero h1{
font-size:60px;
font-weight:700;
letter-spacing:-1.5px;
background:linear-gradient(90deg,#ffffff,#cfcfcf,#6b7280);
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
}

.hero p{
margin-top:20px;
color:#9ca3af;
}

/* CARD */
.card{
background:rgba(255,255,255,.05);
backdrop-filter:blur(30px);
padding:40px;
border-radius:28px;
box-shadow:0 40px 100px rgba(0,0,0,.6);
width:100%;
max-width:600px;
}

.grid{
display:grid;
grid-template-columns:1fr 1fr;
gap:16px;
margin-bottom:20px;
}

@media(max-width:600px){
.grid{grid-template-columns:1fr;}
}

input{
width:100%;
padding:14px;
border-radius:18px;
border:1px solid rgba(255,255,255,.08);
background:rgba(255,255,255,.03);
color:white;
font-size:15px;
}

input:focus{
outline:none;
border-color:#bfbfbf;
background:rgba(255,255,255,.07);
}

.label{
font-size:13px;
color:#9ca3af;
margin-bottom:6px;
}

.results{
margin-top:25px;
display:grid;
gap:14px;
}

.result-box{
background:rgba(255,255,255,.04);
padding:16px;
border-radius:16px;
font-size:15px;
display:flex;
justify-content:space-between;
}

.value{
font-weight:600;
}

/* positive negative */
.green{color:#22c55e;}
.red{color:#ef4444;}
.gray{color:#e5e7eb;}
</style>
</head>

<body>

<div class="hero">
<h1>Decision Engine Pro</h1>
<p>Expected Value • ROI • Break-even • Kelly Criterion</p>
</div>

<div class="card">

<div class="grid">
<div>
<div class="label">Probability (0~1)</div>
<input type="number" id="p" step="0.01">
</div>

<div>
<div class="label">Reward</div>
<input type="number" id="r">
</div>

<div>
<div class="label">Cost</div>
<input type="number" id="c">
</div>

<div>
<div class="label">Total Bankroll (for Kelly)</div>
<input type="number" id="bank">
</div>
</div>

<div class="results">

<div class="result-box">
<span>Expected Value</span>
<span class="value" id="ev">-</span>
</div>

<div class="result-box">
<span>ROI</span>
<span class="value" id="roi">-</span>
</div>

<div class="result-box">
<span>Break-even Probability</span>
<span class="value" id="breakeven">-</span>
</div>

<div class="result-box">
<span>Kelly Suggested Bet</span>
<span class="value" id="kelly">-</span>
</div>

</div>

</div>

<script>
const inputs = document.querySelectorAll("input");
inputs.forEach(input => input.addEventListener("input", calculate));

function calculate(){

let p = parseFloat(document.getElementById("p").value);
let r = parseFloat(document.getElementById("r").value);
let c = parseFloat(document.getElementById("c").value);
let bank = parseFloat(document.getElementById("bank").value);

if(isNaN(p)||isNaN(r)||isNaN(c)){
document.getElementById("ev").innerText="-";
document.getElementById("roi").innerText="-";
document.getElementById("breakeven").innerText="-";
document.getElementById("kelly").innerText="-";
return;
}

/* Expected Value */
let ev = p*r - c;

/* ROI */
let roi = ((ev/c)*100);

/* Break-even probability */
let breakeven = c/r;

/* Kelly Criterion */
let b = (r-c)/c;
let kellyFraction = ((p*(b+1)-1)/b);
let kellyAmount = (bank && !isNaN(bank)) ? bank * kellyFraction : 0;

/* Display */
update("ev", ev);
update("roi", roi.toFixed(2)+"%");
update("breakeven", breakeven.toFixed(2));
update("kelly", bank ? kellyAmount.toFixed(2) : "-");

}

function update(id,value){
let el=document.getElementById(id);
el.innerText=value;

if(typeof value === "number"){
if(value>0){
el.className="value green";
}else if(value<0){
el.className="value red";
}else{
el.className="value gray";
}
}
}
</script>

</body>
</html>
